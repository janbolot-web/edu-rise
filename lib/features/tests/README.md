# Tests Feature - –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã EduRise.

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
tests/
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ question.dart       # –ú–æ–¥–µ–ª—å –≤–æ–ø—Ä–æ—Å–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test.dart           # –ú–æ–¥–µ–ª—å —Ç–µ—Å—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_attempt.dart   # –ú–æ–¥–µ–ª—å –ø–æ–ø—ã—Ç–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ user_stats.dart     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ repositories/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ repositories/
‚îÇ       ‚îî‚îÄ‚îÄ test_repository.dart # –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Firestore
‚îî‚îÄ‚îÄ presentation/
    ‚îú‚îÄ‚îÄ pages/
    ‚îÇ   ‚îú‚îÄ‚îÄ tests_page.dart           # –ö–∞—Ç–∞–ª–æ–≥ —Ç–µ—Å—Ç–æ–≤
    ‚îÇ   ‚îú‚îÄ‚îÄ test_details_page.dart    # –î–µ—Ç–∞–ª–∏ —Ç–µ—Å—Ç–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ test_taking_page.dart     # –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ test_results_page.dart    # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
    ‚îÇ   ‚îú‚îÄ‚îÄ create_test_page.dart     # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞ (—É—á–∏—Ç–µ–ª—å)
    ‚îÇ   ‚îú‚îÄ‚îÄ teacher_tests_page.dart   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏
    ‚îÇ   ‚îú‚îÄ‚îÄ test_analytics_page.dart  # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
    ‚îÇ   ‚îî‚îÄ‚îÄ badges_page.dart          # –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ widgets/
    ‚îÇ   ‚îú‚îÄ‚îÄ test_card.dart           # –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–µ—Å—Ç–∞
    ‚îÇ   ‚îú‚îÄ‚îÄ test_filters_bar.dart    # –§–∏–ª—å—Ç—Ä—ã
    ‚îÇ   ‚îî‚îÄ‚îÄ stats_card.dart          # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    ‚îî‚îÄ‚îÄ providers/
        ‚îî‚îÄ‚îÄ test_providers.dart      # Riverpod –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
```

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéì –î–ª—è —É—á–µ–Ω–∏–∫–æ–≤

1. **–ö–∞—Ç–∞–ª–æ–≥ —Ç–µ—Å—Ç–æ–≤**
   - –§–∏–ª—å—Ç—Ä—ã –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É, –∫–ª–∞—Å—Å—É, —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
   - –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–Ω–æ–≤—ã–µ, –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ, —Ä–µ–π—Ç–∏–Ω–≥)
   - –ü–æ–∏—Å–∫ —Ç–µ—Å—Ç–æ–≤
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ—á–∫–∏, streak, —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª)

2. **–ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**
   - –¢—Ä–∏ —Ç–∏–ø–∞ –≤–æ–ø—Ä–æ—Å–æ–≤:
     * –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä (Multiple Choice)
     * –ü—Ä–∞–≤–¥–∞/–õ–æ–∂—å (True/False)
     * –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç (Short Answer)
   - –¢–∞–π–º–µ—Ä –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á–µ—Ç–∞
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
   - –ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –≤–æ–ø—Ä–æ—Å–∞–º–∏

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã**
   - –û—Ü–µ–Ω–∫–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
   - –°—Ç–∞—Ç—É—Å (–°–¥–∞–Ω/–ù–µ —Å–¥–∞–Ω)
   - –ó–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –æ—á–∫–∏
   - –ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è
   - –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤ —Å –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏
   - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è

4. **–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è**
   - –°–∏—Å—Ç–µ–º–∞ –æ—á–∫–æ–≤
   - –ë–µ–π–¥–∂–∏:
     * üöÄ –ü–µ—Ä–≤—ã–π —à–∞–≥ - –ø–µ—Ä–≤—ã–π –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç
     * üéì –ó–Ω–∞—Ç–æ–∫ —Ç–µ—Å—Ç–æ–≤ - 10 —Ç–µ—Å—Ç–æ–≤
     * üèÜ –ú–∞—Å—Ç–µ—Ä —Ç–µ—Å—Ç–æ–≤ - 50 —Ç–µ—Å—Ç–æ–≤
     * ‚≠ê –ü–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç - 100% –≤ —Ç–µ—Å—Ç–µ
     * üî• Streak –±–µ–π–¥–∂–∏ - 7, 30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥
   - Streak —Å–∏—Å—Ç–µ–º–∞ (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ)
   - –†–µ–π—Ç–∏–Ω–≥ –ø–æ –ø—Ä–µ–¥–º–µ—Ç–∞–º

### üë®‚Äçüè´ –î–ª—è —É—á–∏—Ç–µ–ª–µ–π

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤**
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ, –æ–±–ª–æ–∂–∫–∞
   - –í—ã–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–∞ –∏ –∫–ª–∞—Å—Å–∞
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
   - –í—Ä–µ–º—è –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –ø–æ—è—Å–Ω–µ–Ω–∏—è–º–∏
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫ –∏–ª–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏**
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –£–¥–∞–ª–µ–Ω–∏–µ
   - –ê—Ä—Ö–∏–≤–∞—Ü–∏—è

3. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞**
   - –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø–æ–ø—ã—Ç–∫–∏, —Å—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª, % –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è)
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫ (–≥—Ä–∞—Ñ–∏–∫)
   - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º
   - –°–ø–∏—Å–æ–∫ —É—á–µ–Ω–∏–∫–æ–≤ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
   - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å–ª–∞–±—ã—Ö —Ç–µ–º
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV

## üé® –î–∏–∑–∞–π–Ω

–°—Ç–∏–ª—å –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω Google Classroom –∏ Notion:
- –ß–∏—Å—Ç—ã–π, –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å —Ç–µ–Ω—è–º–∏
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –∞–∫—Ü–µ–Ω—Ç—ã
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞ (Montserrat)
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞

### –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞

```dart
appPrimary = #2A3447     // –¢–µ–º–Ω–æ-—Å–∏–Ω–∏–π —Ç–µ–∫—Å—Ç
appSecondary = #707A8D   // –°–µ—Ä—ã–π –≤—Ç–æ—Ä–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π
appAccentStart = #FF7171 // –ù–∞—á–∞–ª–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
appAccentEnd = #FF5050   // –ö–æ–Ω–µ—Ü –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
appBackground = #F6F8FB  // –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω
```

## üî• Firebase —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### Collections

**tests/**
```json
{
  "id": "string",
  "title": "string",
  "description": "string",
  "subject": "string",
  "gradeLevel": "number",
  "difficulty": "easy|medium|hard",
  "duration": "number (minutes)",
  "questions": [
    {
      "id": "string",
      "text": "string",
      "type": "multipleChoice|trueFalse|shortAnswer",
      "options": ["string"],
      "correctAnswer": "string",
      "explanation": "string?",
      "points": "number",
      "imageUrl": "string?"
    }
  ],
  "teacherId": "string",
  "teacherName": "string",
  "status": "draft|published|archived",
  "createdAt": "timestamp",
  "publishedAt": "timestamp?",
  "totalPoints": "number",
  "passingScore": "number",
  "tags": ["string"],
  "attempts": "number",
  "averageScore": "number",
  "coverImage": "string?"
}
```

**testAttempts/**
```json
{
  "id": "string",
  "testId": "string",
  "userId": "string",
  "userName": "string",
  "answers": {
    "questionId": "userAnswer"
  },
  "score": "number",
  "totalPoints": "number",
  "percentage": "number",
  "startedAt": "timestamp",
  "completedAt": "timestamp?",
  "timeSpent": "number (seconds)",
  "isPassed": "boolean",
  "incorrectQuestions": ["string"]
}
```

**userTestStats/**
```json
{
  "userId": "string",
  "totalTests": "number",
  "testsCompleted": "number",
  "testsPassed": "number",
  "averageScore": "number",
  "totalPoints": "number",
  "currentStreak": "number",
  "longestStreak": "number",
  "lastTestDate": "timestamp?",
  "earnedBadges": ["string"],
  "subjectScores": {
    "subject": "number"
  }
}
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ù–∞–≤–∏–≥–∞—Ü–∏—è

–¢–µ—Å—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ –Ω–∏–∂–Ω—é—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é (3-—è –∏–∫–æ–Ω–∫–∞ "–¢–µ—Å—Ç—ã").

### –†–æ—É—Ç–∏–Ω–≥

```dart
// –í app.dart –∏–ª–∏ main.dart –¥–æ–±–∞–≤—å—Ç–µ —Ä–æ—É—Ç—ã:
'/tests': (context) => TestsPage(),
'/test-details': (context) => TestDetailsPage(),
'/test-taking': (context) => TestTakingPage(),
'/test-results': (context) => TestResultsPage(),
'/create-test': (context) => CreateTestPage(),
'/teacher-tests': (context) => TeacherTestsPage(),
'/test-analytics': (context) => TestAnalyticsPage(),
'/badges': (context) => BadgesPage(),
```

### –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```dart
// –û—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ —Ç–µ—Å—Ç–∞
Navigator.pushNamed(context, '/test-details', arguments: testId);

// –ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç
Navigator.pushNamed(context, '/test-taking', arguments: test);

// –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
Navigator.pushNamed(context, '/test-results', arguments: attemptId);

// –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç (—É—á–∏—Ç–µ–ª—å)
Navigator.pushNamed(context, '/create-test');
```

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```yaml
dependencies:
  flutter_riverpod: ^2.x.x
  google_fonts: ^5.x.x
  cloud_firestore: ^4.x.x
  firebase_auth: ^4.x.x
  fl_chart: ^1.x.x  # –î–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ –≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ
  uuid: ^4.x.x      # –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ ID
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firebase

1. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –≤ Firestore
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /tests/{testId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null && request.auth.token.role == 'teacher';
      allow update, delete: if request.auth != null && 
        resource.data.teacherId == request.auth.uid;
    }
    
    match /testAttempts/{attemptId} {
      allow read: if request.auth != null && 
        (resource.data.userId == request.auth.uid || 
         request.auth.token.role == 'teacher');
      allow create: if request.auth != null && 
        request.resource.data.userId == request.auth.uid;
    }
    
    match /userTestStats/{userId} {
      allow read: if request.auth != null;
      allow write: if request.auth != null && userId == request.auth.uid;
    }
  }
}
```

## üéØ –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ç–µ—Å—Ç—ã (–≤–æ–ø—Ä–æ—Å—ã –º–µ–Ω—è—é—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ—Ç–≤–µ—Ç–æ–≤)
- [ ] –í–∏–¥–µ–æ –∏ –∞—É–¥–∏–æ –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö
- [ ] –ì—Ä—É–ø–ø–æ–≤—ã–µ —Ç–µ—Å—Ç—ã (—Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è)
- [ ] AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤
- [ ] –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–∞—Ö
- [ ] –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (–ø–æ–¥–µ–ª–∏—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º)
- [ ] –†–µ–∂–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∏ (–±–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏)
- [ ] Offline —Ä–µ–∂–∏–º

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ß–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ EduRise Educational Platform
